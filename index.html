<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Group Date Cafe Quiz</title>
</head>
<body>

<div id="quiz-container">
    <div id="question"></div>
    <div id="answers"></div>
    <div id="result"></div>
</div>

<script>
const questionGroups = {
    starter: {
        questionText: "Does a difference in age or sex not matter as long as there is love?",
        answers: [
            { text: "Their sex matters (go to 2A)", group: "group2A" },
            { text: "It doesn't matter at all! (go to 2B)", group: "group2B" }
        ]
    },
    group2A: {
        // Questions for Group 2A go here
    },
    group2B: {
        // Questions for Group 2B go here
    },
    group1: [
        // Sample Group 1 Questions
        {
            questionText: "What kind of club would you be interested in joining?",
            answers: [
                { text: "The Gardening Club", person: "Fuuka" },
                { text: "The Diving Club", person: null },
                { text: "The Technology Club", person: null },
            ]
        },
        // More questions go here...
    ],
    // More groups go here...
    randomQuestions: [
        // Random questions go here...
    ]
};

let currentQuestionNumber = 1;
let currentGroup = null;
let askedQuestions = new Set();
let finalOutput = null;

function displayQuestion() {
    const questionData = currentGroup ? questionGroups[currentGroup][askedQuestions.size] : questionGroups.starter;
    const questionContainer = document.getElementById('question');
    const answersContainer = document.getElementById('answers');

    questionContainer.innerHTML = `<h2>Question ${currentQuestionNumber}</h2><p>${questionData.questionText}</p>`;
    answersContainer.innerHTML = questionData.answers.map((answer, index) => {
        return `<button onclick='handleAnswer(${JSON.stringify(answer)})'>${answer.text}</button>`;
    }).join('');
}

function handleAnswer(answer) {
    if (answer.group) {
        currentGroup = answer.group;
        displayQuestion();
    } else {
        if (answer.person) {
            finalOutput = answer.person;
            displayFinalOutput();
            return;
        }
        if (currentGroup && askedQuestions.size < questionGroups[currentGroup].length - 1) {
            askedQuestions.add(currentQuestionNumber);
            currentQuestionNumber++;
            displayQuestion();
        } else {
            // Handle random questions logic here
        }
    }
}

function displayFinalOutput() {
    const resultContainer = document.getElementById('result');
    resultContainer.innerHTML = finalOutput ? `Your result is: ${finalOutput}` : "No result found.";
    // Reset quiz or navigate to a different page
}

displayQuestion();
</script>

</body>
</html>